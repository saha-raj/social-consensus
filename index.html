<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Opinion Dynamics Simulation</title>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- Main fonts used in the template -->
    <link href="https://fonts.googleapis.com/css2?family=Newsreader:opsz,wght@6..72,400;6..72,500;6..72,600;6..72,700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=PT+Serif:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="css/styles.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸŽ®</text></svg>">
</head>
<body>
    <div class="content">
        <div class="text-block">
            <h1>Opinion Dynamics Simulation</h1>
            <div class="author">
                <p>By Raj Saha, PhD</p>
            </div>
            
            <p>
                This simulation explores how opinions spread through a population, with some individuals maintaining fixed beliefs (zealots) while others are open to change. Watch how different initial conditions and zealot proportions affect the final distribution of opinions in the population.
            </p>
        </div>

        <div class="simulation-container">
            <h2>
                <!-- Running indicator location -->
            </h2>
            
            <div class="simulation-grid">
                <!-- Controls Column -->
                <div class="controls-column">
                    <div class="tournament-params">
                        <!-- Initial Opinion Distribution -->
                        <div class="param-group">
                            <label for="proportion-slider">Initial Opinion Distribution:</label>
                            <div class="param-description">Proportion of red vs blue agents</div>
                            <div class="slider-container">
                                <input type="range" id="proportion-slider" min="0" max="100" value="50" step="5" class="proportion-slider">
                                <div class="slider-minmax">
                                    <div class="slider-min" id="proportion-label-left">50%</div>
                                    <div class="slider-max" id="proportion-label-right">50%</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Zealot Fraction -->
                        <div class="param-group">
                            <label for="zealot-fraction">Zealot Fraction:</label>
                            <div class="param-description">Fraction of red agents that are zealots</div>
                            <div class="slider-container">
                                <input type="range" id="zealot-fraction" min="0" max="100" value="20" step="5">
                                <div class="slider-minmax">
                                    <div class="slider-min">0%</div>
                                    <div class="slider-max">20%</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Population Size -->
                        <div class="param-group">
                            <label for="population-size">Population Size:</label>
                            <div class="param-description">Number of agents in simulation</div>
                            <div class="slider-container">
                                <input type="range" id="population-size" min="100" max="1000" value="200" step="100">
                                <div class="slider-minmax">
                                    <div class="slider-min">100</div>
                                    <div class="slider-max">200</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Simulation Speed -->
                        <div class="param-group">
                            <label for="simulation-speed">Simulation Speed:</label>
                            <div class="param-description">Rate of agent interactions</div>
                            <div class="slider-container">
                                <input type="range" id="simulation-speed" min="1" max="10" value="5" step="1">
                                <div class="slider-minmax">
                                    <div class="slider-min">Slow</div>
                                    <div class="slider-max">Fast</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Maximum Interactions -->
                        <div class="param-group">
                            <label for="max-interactions">Maximum Interactions:</label>
                            <div class="param-description">Maximum number of agent interactions</div>
                            <div class="slider-container">
                                <input type="range" id="max-interactions" min="1" max="50" value="5" step="1">
                                <div class="slider-minmax">
                                    <div class="slider-min">1K</div>
                                    <div class="slider-max">5K</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="button-group">
                            <button id="start-simulation">Start</button>
                            <button id="stop-simulation" disabled>Stop</button>
                            <button id="reset-simulation">Reset</button>
                        </div>
                    </div>
                </div>
                
                <!-- Agent Pool Column -->
                <div class="agent-pool-column" id="agent-pool-container">
                    <div class="agent-pool-visualization">
                        <span id="running-indicator" class="hidden">
                            <div class="spinner"></div>
                            <span>Running...</span>
                        </span>
                    </div>
                </div>
                
                <!-- Opinion Evolution Plot Column -->
                <div class="histogram-column" id="opinion-plot-container"></div>
            </div>
        </div>

        <div class="text-block">
            <h2>About Opinion Dynamics</h2>
            <p>
                This model simulates how opinions spread through social interaction. Agents can hold one of two opinions (shown in red and blue), and some red agents are "zealots" who never change their views. Through pairwise interactions, agents may adopt their neighbor's opinions, leading to interesting patterns of opinion spread and potential equilibrium states.
            </p>
        </div>

        <div class="text-block">
            <h2>Simulation Mechanics</h2>
            <p>
                This simulation models how opinions spread through a population. Each agent has either a red or blue opinion, 
                and some red agents are "zealots" who never change their views.
            </p>
            <p>
                In each step, two random agents interact. Regular agents may adopt the opinion of the agent they interact with, 
                while zealots always maintain their original opinion. The visualization shows both the agents (colored dots) 
                and the evolution of opinion proportions over time (line chart).
            </p>
            <p>
                The simulation runs until either one opinion dominates completely or the system reaches an equilibrium state 
                where opinion proportions stabilize.
            </p>
        </div>
    </div>

    <div class="section-divider"></div>

    <div class="more-stories">
        <div class="content">
            <h3>More Visual Stories</h3>
        <div class="stories-grid">
            <div class="story-card">
                <a href="https://saha-raj.github.io/tipping-points-climate/" class="story-card-link">
                    <img src="images/stories/tipping-pts-earth-sim.gif" alt="Story 1">
                    <div class="story-card-content">
                        <h4>Tipping Points in Climate</h4>
                        <p>A simple model to demonstrate tipping points in climate ...</p>
                    </div>
                </a>
            </div>
            <div class="story-card">
                <a href="https://saha-raj.github.io/great-salt-lake/" class="story-card-link">
                    <img src="images/stories/great_salt_lake.gif" alt="Story 2">
                    <div class="story-card-content">
                        <h4>The Changing Great Salt Lake</h4>
                        <p>How the Great Salt Lake has been shrinking ...</p>
                    </div>
                </a>
            </div>
            <div class="story-card">
                <a href="https://saha-raj.github.io/mangroves/" class="story-card-link">
                    <img src="images/stories/mangroves.gif" alt="Story 3">
                    <div class="story-card-content">
                        <h4>How Mangroves Slow Coastal Erosion</h4>
                        <p>Mangroves slow coastal erosion by stabilizing the shoreline...</p>
                    </div>
                </a>
            </div>
        </div>
    </div>
</div>

<footer class="footer">
    <div class="container">
        <p>Â© 2024 Raj Saha</p>
        <p><a href="https://github.com/saha-raj/" target="_blank">Github</a> / <a
                href="https://www.linkedin.com/in/rajsahaphd/" target="_blank">LinkedIn</a></p>
    </div>
</footer>

    <!-- Load D3.js -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    
    <!-- Load our JavaScript modules -->
    <script src="js/agent.js"></script>
    <script src="js/simulation.js"></script>
    <script src="js/visualization.js"></script>
    <script src="js/main.js"></script>
</body>
</html> 